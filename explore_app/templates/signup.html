{% extends "base.html" %}

{% block title %}Sign Up{% endblock %}

{% block content %}
    <section class="section">
        <div class="container">
            <div class="formwrapper">
                <form method="POST">

                    <div class="columns">
                        <div class="column is-4 is-offset-2">
                            <article class="message is-primary">
                                <div class="message-header">
                                    <p>Sign Up</p>
                                </div>
                                <div class="message-body">

                                    {% for message in get_flashed_messages() %}
                                        <div class="notification is-warning">
                                            {{ message }}
                                        </div>
                                    {% endfor %}

                                    {% for field in [form.invite_code, form.first_name, form.last_name, form.email, form.password, form.confirm] %}
                                        <div class="field">
                                            <div class="field">
                                                <label class="label">{{ field.label }}</label>
                                            </div>
                                            <div class="field">
                                                <p class="control">
                                                    {{ field(class_='input') }}
                                                </p>
                                            </div>
                                        </div>

                                        {% if field.errors %}
                                            <div class="notification is-warning">
                                                <ul class="errors">
                                                    {% for error in field.errors %}
                                                        <li><i class="fas fa-exclamation-triangle"></i> {{ error }}</li>
                                                    {% endfor %}
                                                </ul>
                                            </div>
                                        {% endif %}
                                    {% endfor %}

                                    {{ form.csrf_token }}

                                    <div class="submitbutton">
                                        {{ form.submit(class_='button is-primary')}}
                                    </div>

                                </div>
                            </article>
                        </div>
                        <div class="column is-4">
                            <div class="notification loginsignup">
                                <span>Already have an account? <a href="{{ url_for('auth_bp.login') }}">Log in.</a></span>
                            </div>
                            <div class="notification">
                                <p>
                                    Accounts are currently available by invitation only.
                                    You do not need an account to browse or download the data.
                                    You only need one to edit data or use some more resource-intensive tools.
                                </p>
                                <p>
                                    If you need an account and don't have an invite code, please
                                    <a href="/docs/contact">get in touch with us</a>.
                                </p>
                            </div>
                        </div>
                    </div>

                </form>

                
            </div>
        </div>
    </section>
{% endblock %}